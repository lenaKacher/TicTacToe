# comments
name: TicTacToe_Actions
env:
  JAVA_VERSION : "17"
  DISTRIBUTION : "zulu"
on: 
  push:
    branches:
      - master

jobs: 
  my_test:
    runs-on: ubuntu-latest

    steps: 
    - name: Git clone my repo
      uses: actions/checkout@v4
    - name: Set up JDK 17
    - uses: actions/checkout@v4
    - uses: actions/setup-java@v4
      with:
        distribution: "${{env.DISTRIBUTION}}" 
        java-version: "${{env.JAVA_VERSION}}"
        cashe: maven
    - name: Build with Maven
      run: mvn -B package --file pom.xml
      
  my_deploy:
    runs-on: ubuntu-latest
    needs: [my_test]
    env: 
      VAR1: "This is Job Level Variable1"
      VAR2: "This is Job Level Variable2"

    steps: 
    - name: print Hello Message
      run : echo "Hello World from Test"

    - name: print Deployment package 
      run : echo "Deploy package name is ${{env.DEPLOY_PACKAGE_NAME}}"

    - name: print Deployment package 
      run : |
        echo "Var1 = ${{env.VAR1}}"
        echo "Var2 = ${{env.VAR2}}"
        echo "Var3 = $LOCAL_VAR"
      env: 
        LOCAL_VAR: "This is super local Environment variable"
      
    - name: lets test some packages if they are here 2
      run : aws --version

    - name: lets test some packages if they are here 1
      run : zip
